schema: '2.0'
stages:
  data_load:
    cmd: python src/stages/data_load.py --config=params.yaml
    deps:
    - path: src/stages/data_load.py
      md5: 3d226fc6cda20b065b1233c06ee23352
      size: 1180
    params:
      params.yaml:
        base:
          log_level: INFO
        data:
          content: data/wall.jpg
        data_load:
          X_np: data/processed/X.npy
    outs:
    - path: data/processed/X.npy
      md5: 154b38f0add916a0040d6bb699f21220
      size: 2825738
    - path: reports/original_shape.json
      md5: 325836b3a05420a2e5c2fadd04434565
      size: 58
  train:
    cmd: python src/stages/train_model.py --config=params.yaml
    deps:
    - path: data/processed/X.npy
      md5: 154b38f0add916a0040d6bb699f21220
      size: 2825738
    - path: src/stages/train_model.py
      md5: 3561a0bf1e97f7dbfdbd72910cb0c312
      size: 1427
    - path: src/train/train.py
      md5: 3a4bfdd3f4dd987e4c488ff64cf1d7d1
      size: 783
    params:
      params.yaml:
        base:
          log_level: INFO
        train:
          estimator_name: kmeans
          estimators:
            kmeans:
              n_clusters:
              - 8
          model_path: models/model.joblib
    outs:
    - path: models/model.joblib
      md5: eb002e893dc63680e772d09598c89716
      size: 3768333
    - path: reports/metrics.json
      md5: 981e6a774ac8bba5706b06d07b2c8ca8
      size: 35
  evaluate:
    cmd: python src/stages/evaluate.py --config=params.yaml
    deps:
    - path: data/processed/X.npy
      md5: 154b38f0add916a0040d6bb699f21220
      size: 2825738
    - path: models/model.joblib
      md5: eb002e893dc63680e772d09598c89716
      size: 3768333
    - path: reports/original_shape.json
      md5: 325836b3a05420a2e5c2fadd04434565
      size: 58
    params:
      params.yaml:
        base:
          log_level: INFO
        reports:
          original_shape: reports/original_shape.json
          metrics: reports/metrics.json
          outputs: reports/result.jpg
    outs:
    - path: reports/result.jpg
      md5: a8ade97066da5f40f53743e7dd6722a7
      size: 247638
